<html>
  <head>
    <meta charset="utf-8">
    <title>Surveillance Camera</title>
  </head>

  <body>

    <center><h1>Surveillance Camera</h1></center>
    <center><img id="image" src="latest-image.jpg" width="85%"></center>
    <center><h5 id="last-updated"></h5></center>

    <script>
      // Use an off-screen image to load the next frame.
      var img = new Image();

      // When it is loaded...
      img.addEventListener("load", function() {
         document.getElementById("image").src = img.src;

         setTimeout(function() {
           var date = new Date
           img.src = "latest-image.jpg?" + date.getTime();
           document.getElementById("last-updated").innerHTML = "Last updated: " + date.toUTCString();
         }, 1000 * 30); 
      })

      var date = new Date
      img.src = "latest-image.jpg?" + date.getTime();
      document.getElementById("last-updated").innerHTML = "Last updated: " + date.toUTCString();
    </script>
  </body>
</html>
